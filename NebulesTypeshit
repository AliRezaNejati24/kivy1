from kivy.app import App
from kivy.uix.gridlayout import GridLayout
from kivy.uix.button import Button
from kivy.core.window import Window


RED = (1, 0, 0, 1)
YELLOW = (1, 1, 0, 1)
BLUE = (0, 0, 1, 1)
GREEN = (0, 1, 0, 1)
DEFAULT_TEXT = (1, 1, 1, 1)
DEFAULT_BTN_BG = (1, 1, 1, 1)



class ColorApp(App):
    def build(self):
        root = GridLayout(rows=2, cols=1, padding=10, spacing=10)

        
        top = GridLayout(cols=2, spacing=10)
        button_red = Button(text='Red', background_color=DEFAULT_BTN_BG, color=DEFAULT_TEXT, font_size=50)
        button_yellow = Button(text='Yellow', background_color=DEFAULT_BTN_BG, color=DEFAULT_TEXT, font_size=50)

        
        bottom = GridLayout(cols=2, spacing=10)
        button_blue = Button(text='Blue', background_color=DEFAULT_BTN_BG, color=DEFAULT_TEXT, font_size=25)
        button_green = Button(text='Green', background_color=DEFAULT_BTN_BG, color=DEFAULT_TEXT, font_size=25)

      
        def make_top_color( button, color):
            def handler(instance):
                button.color = color            
                Window.clearcolor = color      
            return handler

      
        def make_bottom_color( button, color):
            def handler(instance):
                button.background_color = color 
                button.color = DEFAULT_TEXT    
                Window.clearcolor = color       
            return handler

       
        button_red.bind(on_press=make_top_color(button_red, RED))
        button_yellow.bind(on_press=make_top_color(button_yellow, YELLOW))
        button_blue.bind(on_press=make_bottom_color(button_blue, BLUE))
        button_green.bind(on_press=make_bottom_color(button_green, GREEN))

        top.add_widget(button_red)
        top.add_widget(button_yellow)
        bottom.add_widget(button_blue)
        bottom.add_widget(button_green)

        root.add_widget(top)
        root.add_widget(bottom)

        
        return root

ColorApp().run()






















import random
from kivy.app import App
from kivy.uix.boxlayout import BoxLayout
from kivy.uix.button import Button
from kivy.uix.widget import Widget
from kivy.graphics import Ellipse, Color, Rectangle


class PaintWidget(Widget):
    def __init__(self, **kwargs):
        super().__init__(**kwargs)
        self.mode = "draw"  # حالت پیش‌فرض: نقاشی

    def on_touch_move(self, touch):
        if self.mode == "draw":
            # رنگ رندوم
            r, g, b = random.random(), random.random(), random.random()
            with self.canvas:
                Color(r, g, b)
                d = 10  # قطر دایره
                Ellipse(pos=(touch.x - d/2, touch.y - d/2), size=(d, d))
        elif self.mode == "erase":
            # پاک کردن: یک مستطیل سفید روی محل ماوس می‌کشد
            with self.canvas:
                Color(1, 1, 1)  # سفید
                d = 20  # اندازه پاک‌کن
                Rectangle(pos=(touch.x - d/2, touch.y - d/2), size=(d, d))


class PaintApp(App):
    def build(self):
        root = BoxLayout(orientation="vertical")

        # نوار دکمه‌ها
        button_bar = BoxLayout(size_hint=(1, 0.1))
        btn_draw = Button(text="نقاشی کردن")
        btn_erase = Button(text="پاک کردن")

        # صفحه نقاشی
        self.paint_area = PaintWidget()

        # اتصال دکمه‌ها
        btn_draw.bind(on_press=self.set_draw_mode)
        btn_erase.bind(on_press=self.set_erase_mode)

        button_bar.add_widget(btn_draw)
        button_bar.add_widget(btn_erase)

        root.add_widget(button_bar)
        root.add_widget(self.paint_area)

        return root

    def set_draw_mode(self, instance):
        self.paint_area.mode = "draw"

    def set_erase_mode(self, instance):
        self.paint_area.mode = "erase"


if __name__ == "__main__":
    PaintApp().run()

